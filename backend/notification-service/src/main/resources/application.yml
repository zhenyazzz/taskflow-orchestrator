server:
  port: 8085

spring:
  application:
    name: notification-service
  profiles:
    active: dev
  config:
    import: optional:configserver:${CONFIG_SERVER_URL:http://localhost:8888}

  kafka:
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer
      retries: 3
      acks: all
      properties:
        linger.ms: 5
    consumer:
      group-id: notification-service-group
      auto-offset-reset: earliest
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer
      properties:
        spring.json.trusted.packages: "*"
    listener:
      ack-mode: record

  mail:
    host: sandbox.smtp.mailtrap.io
    port: 2525
    username: 53d40ab3046d3b
    password: 3102f9ffcd8cd2
    properties:
      mail.smtp.auth: true
      mail.smtp.starttls.enable: true

app:
  cache:
    user-ttl: 30
    user-key-prefix: "user:"
  grpc:
    user-service:
      host: localhost
      port: 9090
  notification:
    channels:
      websocket:
        enabled: true
      email:
        enabled: true
      telegram:
        enabled: true
      sms:
        enabled: true

  

  kafka:
    topics:
      task-created: "task.created"
      task-updated: "task.updated"
      task-subscribed: "task.subscribed"
      task-unsubscribed: "task.unsubscribed"
      task-completed: "task.completed"
      task-deleted: "task.deleted"
      task-status-updated: "task.status.updated"
      task-assignees-updated: "task.assignees.updated"
      
      attachment-added: "attachment.added"
      attachment-deleted: "attachment.deleted"
      
      comment-created: "comment.created"
      comment-updated: "comment.updated"
      comment-deleted: "comment.deleted"

      user-registered: "user.registered"
      user-role-update: "user.role.update"
      user-role-updated: "user.role.updated"
      user-login-success: "auth.login.success"
      user-login-failed: "auth.login.failed"
      user-login: "user.login"
      
      user-created: "user.created"
      user-deleted: "user.deleted"
      user-profile-updated: "user.profile.updated"


